{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/iframe.js","src/index.js"],"names":[],"mappings":"AAAA;;;;;;ACAO,IAAM,sCAAe,OAArB;AACP,IAAM,eAAe;AACnB,UAAQ,MADW;AAEnB,YAAU,UAFS;AAGnB,OAAK,CAHc;AAInB,UAAQ,CAJW;AAKnB,SAAO,CALY;AAMnB,cAAY,QANO;AAOnB,SAAO,YAPY;AAQnB,UAAQ;AARW,CAArB;;AAWO,IAAM,0BAAS,SAAS,aAAT,CAAuB,QAAvB,CAAf;AACP;AACA;AACA,OAAO,IAAP,CAAY,YAAZ,EAA0B,OAA1B,CAAkC,aAAK;AACrC,SAAO,KAAP,CAAa,CAAb,IAAkB,aAAa,CAAb,CAAlB;AACD,CAFD;;AAIO,IAAM,gCAAY,SAAZ,SAAY;AAAA,SAAO,OAAO,GAAP,GAAa,GAApB;AAAA,CAAlB;;AAEA,IAAM,8BAAW,SAAX,QAAW,UAAW;AACjC,MAAM,+BAA6B,OAA7B,wHAAN;AACA,8CAA0C,IAA1C;AACD,CAHM;;;;;ACrBP;;AAGA,SAAS,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,WAAS,IAAT,CAAc,KAAd,CAAoB,WAApB,GAAkC,oBAAlC;AACA;AACA;AACA,WAAS,IAAT,CAAc,WAAd,CAA0B,cAA1B;AACD,CALD;;AASA,IAAI,SAAS,IAAI,SAAJ,CAAc,sBAAd,EAAsC,eAAtC,CAAb;;AAEA,OAAO,OAAP,GAAiB,YAAW;AAC1B;AACA,wBAAS,oBAAT;AACD,CAHD;;AAKA,OAAO,MAAP,GAAgB,YAAW;AACzB,UAAQ,GAAR,CAAY,4BAAZ;;AAEA,WAAS,UAAT,GAAsB;AAClB,QAAI,OAAO,UAAP,KAAsB,OAAO,IAAjC,EAAuC;AACnC,UAAI,SAAS,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,QAA3B,CAAb;AACA,aAAO,IAAP,CAAY,OAAO,QAAP,EAAZ;AACA,iBAAW,UAAX,EAAuB,IAAvB;AACH;AACJ;AACD;AACD,CAXD;;AAaA,OAAO,OAAP,GAAiB,YAAW;AAC1B;AACA,wBAAS,wBAAT;AACD,CAHD;;AAKA,OAAO,SAAP,GAAmB,UAAS,CAAT,EAAY;AAC7B,MAAI,OAAO,EAAE,IAAT,KAAkB,QAAtB,EAAgC;AAC5B,YAAQ,GAAR,CAAY,gBAAgB,EAAE,IAAlB,GAAyB,GAArC;AACH;AACF,CAJD","file":"client.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export const IFRAME_WIDTH = '400px'\nconst iframeStyles = {\n  border: 'none',\n  position: 'absolute',\n  top: 0,\n  bottom: 0,\n  right: 0,\n  background: 'yellow',\n  width: IFRAME_WIDTH,\n  height: '100%'\n}\n\nexport const iframe = document.createElement('iframe')\n// iframe.src = 'http://localhost:8000'\n// iframe.src = 'http://course.jsx.fr/courses/react/plusieurs-composants'\nObject.keys(iframeStyles).forEach(k => {\n  iframe.style[k] = iframeStyles[k]\n})\n\nexport const setSource = src => iframe.src = src\n\nexport const setError = message => {\n  const html = `<h1>Too Bad</h1><p>${message}</p><img style=\"max-width:200px;margin 0 auto\" src=\"https://bhubr.github.io/img/grumpy-cat.jpg\" alt=\"grumpy cat\" />`\n  setSource(`data:text/html;charset=UTF-8,${html}`)\n}","import { IFRAME_WIDTH, iframe, setSource, setError } from './iframe'\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.body.style.marginRight = IFRAME_WIDTH\n  // iframe.style.border = 'none'\n  // iframe.style.position = 'absolute'\n  document.body.appendChild(iframe)\n})\n\n\n\nvar client = new WebSocket('ws://localhost:8000/', 'echo-protocol');\n\nclient.onerror = function() {\n  // console.log('Connection Error');\n  setError('Server not running')\n};\n\nclient.onopen = function() {\n  console.log('WebSocket Client Connected');\n\n  function sendNumber() {\n      if (client.readyState === client.OPEN) {\n          var number = Math.round(Math.random() * 0xFFFFFF);\n          client.send(number.toString());\n          setTimeout(sendNumber, 1000);\n      }\n  }\n  sendNumber();\n};\n\nclient.onclose = function() {\n  // console.log('echo-protocol Client Closed');\n  setError('Server connection lost')\n};\n\nclient.onmessage = function(e) {\n  if (typeof e.data === 'string') {\n      console.log(\"Received: '\" + e.data + \"'\");\n  }\n};"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaWZyYW1lLmpzIiwic3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUNBTyxJQUFNLHNDQUFlLE9BQXJCO0FBQ1AsSUFBTSxlQUFlO0FBQ25CLFVBQVEsTUFEVztBQUVuQixZQUFVLFVBRlM7QUFHbkIsT0FBSyxDQUhjO0FBSW5CLFVBQVEsQ0FKVztBQUtuQixTQUFPLENBTFk7QUFNbkIsY0FBWSxRQU5PO0FBT25CLFNBQU8sWUFQWTtBQVFuQixVQUFRO0FBUlcsQ0FBckI7O0FBV08sSUFBTSwwQkFBUyxTQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtBQUNQO0FBQ0E7QUFDQSxPQUFPLElBQVAsQ0FBWSxZQUFaLEVBQTBCLE9BQTFCLENBQWtDLGFBQUs7QUFDckMsU0FBTyxLQUFQLENBQWEsQ0FBYixJQUFrQixhQUFhLENBQWIsQ0FBbEI7QUFDRCxDQUZEOztBQUlPLElBQU0sZ0NBQVksU0FBWixTQUFZO0FBQUEsU0FBTyxPQUFPLEdBQVAsR0FBYSxHQUFwQjtBQUFBLENBQWxCOztBQUVBLElBQU0sOEJBQVcsU0FBWCxRQUFXLFVBQVc7QUFDakMsTUFBTSwrQkFBNkIsT0FBN0Isd0hBQU47QUFDQSw4Q0FBMEMsSUFBMUM7QUFDRCxDQUhNOzs7OztBQ3JCUDs7QUFHQSxTQUFTLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFNO0FBQ2xELFdBQVMsSUFBVCxDQUFjLEtBQWQsQ0FBb0IsV0FBcEIsR0FBa0Msb0JBQWxDO0FBQ0E7QUFDQTtBQUNBLFdBQVMsSUFBVCxDQUFjLFdBQWQsQ0FBMEIsY0FBMUI7QUFDRCxDQUxEOztBQVNBLElBQUksU0FBUyxJQUFJLFNBQUosQ0FBYyxzQkFBZCxFQUFzQyxlQUF0QyxDQUFiOztBQUVBLE9BQU8sT0FBUCxHQUFpQixZQUFXO0FBQzFCO0FBQ0Esd0JBQVMsb0JBQVQ7QUFDRCxDQUhEOztBQUtBLE9BQU8sTUFBUCxHQUFnQixZQUFXO0FBQ3pCLFVBQVEsR0FBUixDQUFZLDRCQUFaOztBQUVBLFdBQVMsVUFBVCxHQUFzQjtBQUNsQixRQUFJLE9BQU8sVUFBUCxLQUFzQixPQUFPLElBQWpDLEVBQXVDO0FBQ25DLFVBQUksU0FBUyxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsS0FBZ0IsUUFBM0IsQ0FBYjtBQUNBLGFBQU8sSUFBUCxDQUFZLE9BQU8sUUFBUCxFQUFaO0FBQ0EsaUJBQVcsVUFBWCxFQUF1QixJQUF2QjtBQUNIO0FBQ0o7QUFDRDtBQUNELENBWEQ7O0FBYUEsT0FBTyxPQUFQLEdBQWlCLFlBQVc7QUFDMUI7QUFDQSx3QkFBUyx3QkFBVDtBQUNELENBSEQ7O0FBS0EsT0FBTyxTQUFQLEdBQW1CLFVBQVMsQ0FBVCxFQUFZO0FBQzdCLE1BQUksT0FBTyxFQUFFLElBQVQsS0FBa0IsUUFBdEIsRUFBZ0M7QUFDNUIsWUFBUSxHQUFSLENBQVksZ0JBQWdCLEVBQUUsSUFBbEIsR0FBeUIsR0FBckM7QUFDSDtBQUNGLENBSkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgY29uc3QgSUZSQU1FX1dJRFRIID0gJzQwMHB4J1xuY29uc3QgaWZyYW1lU3R5bGVzID0ge1xuICBib3JkZXI6ICdub25lJyxcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICByaWdodDogMCxcbiAgYmFja2dyb3VuZDogJ3llbGxvdycsXG4gIHdpZHRoOiBJRlJBTUVfV0lEVEgsXG4gIGhlaWdodDogJzEwMCUnXG59XG5cbmV4cG9ydCBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKVxuLy8gaWZyYW1lLnNyYyA9ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnXG4vLyBpZnJhbWUuc3JjID0gJ2h0dHA6Ly9jb3Vyc2UuanN4LmZyL2NvdXJzZXMvcmVhY3QvcGx1c2lldXJzLWNvbXBvc2FudHMnXG5PYmplY3Qua2V5cyhpZnJhbWVTdHlsZXMpLmZvckVhY2goayA9PiB7XG4gIGlmcmFtZS5zdHlsZVtrXSA9IGlmcmFtZVN0eWxlc1trXVxufSlcblxuZXhwb3J0IGNvbnN0IHNldFNvdXJjZSA9IHNyYyA9PiBpZnJhbWUuc3JjID0gc3JjXG5cbmV4cG9ydCBjb25zdCBzZXRFcnJvciA9IG1lc3NhZ2UgPT4ge1xuICBjb25zdCBodG1sID0gYDxoMT5Ub28gQmFkPC9oMT48cD4ke21lc3NhZ2V9PC9wPjxpbWcgc3R5bGU9XCJtYXgtd2lkdGg6MjAwcHg7bWFyZ2luIDAgYXV0b1wiIHNyYz1cImh0dHBzOi8vYmh1YnIuZ2l0aHViLmlvL2ltZy9ncnVtcHktY2F0LmpwZ1wiIGFsdD1cImdydW1weSBjYXRcIiAvPmBcbiAgc2V0U291cmNlKGBkYXRhOnRleHQvaHRtbDtjaGFyc2V0PVVURi04LCR7aHRtbH1gKVxufSIsImltcG9ydCB7IElGUkFNRV9XSURUSCwgaWZyYW1lLCBzZXRTb3VyY2UsIHNldEVycm9yIH0gZnJvbSAnLi9pZnJhbWUnXG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5SaWdodCA9IElGUkFNRV9XSURUSFxuICAvLyBpZnJhbWUuc3R5bGUuYm9yZGVyID0gJ25vbmUnXG4gIC8vIGlmcmFtZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpXG59KVxuXG5cblxudmFyIGNsaWVudCA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vbG9jYWxob3N0OjgwMDAvJywgJ2VjaG8tcHJvdG9jb2wnKTtcblxuY2xpZW50Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgLy8gY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gRXJyb3InKTtcbiAgc2V0RXJyb3IoJ1NlcnZlciBub3QgcnVubmluZycpXG59O1xuXG5jbGllbnQub25vcGVuID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgQ2xpZW50IENvbm5lY3RlZCcpO1xuXG4gIGZ1bmN0aW9uIHNlbmROdW1iZXIoKSB7XG4gICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IGNsaWVudC5PUEVOKSB7XG4gICAgICAgICAgdmFyIG51bWJlciA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKTtcbiAgICAgICAgICBjbGllbnQuc2VuZChudW1iZXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc2V0VGltZW91dChzZW5kTnVtYmVyLCAxMDAwKTtcbiAgICAgIH1cbiAgfVxuICBzZW5kTnVtYmVyKCk7XG59O1xuXG5jbGllbnQub25jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBjb25zb2xlLmxvZygnZWNoby1wcm90b2NvbCBDbGllbnQgQ2xvc2VkJyk7XG4gIHNldEVycm9yKCdTZXJ2ZXIgY29ubmVjdGlvbiBsb3N0Jylcbn07XG5cbmNsaWVudC5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0eXBlb2YgZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS5sb2coXCJSZWNlaXZlZDogJ1wiICsgZS5kYXRhICsgXCInXCIpO1xuICB9XG59OyJdfQ=="}